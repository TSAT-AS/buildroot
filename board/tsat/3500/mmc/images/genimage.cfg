image boot.vfat {
  vfat {
    extraargs = "-F 32"
    label = "BOOT"
    files = {
      "boot.bin",
      "boot.scr"
    }
  }
  size = 64M
}

image env.vfat {
  vfat {
    extraargs = "-F 32"
    label = "ENV"
    file uboot.env {
      image = "uboot-env.bin"
    }
  }
  size = 64M
}

image kernel.vfat {
  vfat {
    extraargs = "-F 32"
    label = "KERNEL"
    files = {
      "uImage",
      "zynq-mars-zx3.dtb"
    }
  }
  size = 64M
}

image appfs.ext4 {
  ext4 {
    use-mke2fs = true
    label = "APP"
    features = "^64bit"
  }
  size = 256M
}

image sdcard.img {
  hdimage {
    disk-signature = 0x75473500
  }
  partition boot {
    offset = 4M
    bootable = "true"
    partition-type = 0xB
    image = "boot.vfat"
  }
  partition env {
    partition-type = 0xB
    image = "env.vfat"
  }
  partition future {
    partition-type = 0xB
    size = 64M
  }
  partition kernel_1 {
    partition-type = 0xB
    image = "kernel.vfat"
  }
  partition kernel_2 {
    partition-type = 0xB
    image = "kernel.vfat"
  }
  partition rootfs_1 {
    partition-type = 0x83
    image = "rootfs.ext4"
  }
  partition rootfs_2 {
    partition-type = 0x83
    image = "rootfs.ext4"
  }
  partition appfs {
    partition-type = 0x83
    image = "appfs.ext4"
  }
}
